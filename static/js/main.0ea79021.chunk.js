(this["webpackJsonprozum-systems"]=this["webpackJsonprozum-systems"]||[]).push([[0],{70:function(e,t,o){"use strict";o.r(t);var i=o(0),n=o.n(i),c=o(26),r=o.n(c),a=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,95)).then((function(t){var o=t.getCLS,i=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;o(e),i(e),n(e),c(e),r(e)}))},d=o(20),l=o(15),m=o(32),s=o(25),j=o(34),u=o(4),b={"/api/employees":[{id:1,firstName:"\u041b\u0435\u043e\u043d\u0438\u0434",lastName:"\u0421\u0442\u0430\u0440\u043e\u043a\u0430\u0434\u043e\u043c\u0441\u043a\u0438\u0439",middleName:"\u041c\u0438\u0445\u0430\u0439\u043b\u043e\u0432\u0438\u0447",birthDate:"1875-03-27",phone:"+79975669545"},{id:2,firstName:"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440",lastName:"\u0414\u0435\u043c\u0438\u0445\u043e\u0432",middleName:"\u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",birthDate:"1916-06-18",phone:"+74951263366"},{id:3,firstName:"\u0412\u0438\u043a\u0442\u043e\u0440",lastName:"\u041a\u0430\u043b\u043d\u0431\u0435\u0440\u0437",middleName:"\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0438\u043d\u043e\u0432\u0438\u0447",birthDate:"1928-06-02",phone:"+37156698963"},{id:4,firstName:"\u0410\u043b\u043e\u0438\u0441",lastName:"\u0410\u043b\u044c\u0446\u0433\u0435\u0439\u043c\u0435\u0440",middleName:"\u042d\u0434\u0443\u0430\u0440\u0434\u043e\u0432\u0438\u0447",birthDate:"1864-06-14",phone:"+15559665599"},{id:5,firstName:"\u0410\u0432\u0438\u0446\u0435\u043d\u043d\u0430",lastName:"\u0421\u0438\u043d\u0430",middleName:"\u0410\u0431\u0443 \u0410\u043b\u0438 \u0418\u0431\u043d",birthDate:"980-08-23",phone:"+15559171855"},{id:6,firstName:"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440",lastName:"\u0424\u043b\u0435\u043c\u0438\u043d\u0433",middleName:"\u0425\u0443\u0433\u043e\u0432\u0438\u0447",birthDate:"1881-08-06",phone:"+4569988569"}],"/api/employees/worklog":[{id:1,employee_id:1,from:"2021-03-04 04:44:44",to:"2021-03-04 06:46:09"},{id:2,employee_id:1,from:"2021-03-04 06:55:01",to:"2021-03-04 08:13:10"},{id:3,employee_id:1,from:"2021-03-04 09:11:45",to:"2021-03-04 10:55:34"},{id:4,employee_id:1,from:"2021-03-04 11:31:54",to:"2021-03-04 13:36:34"},{id:5,employee_id:1,from:"2021-03-04 14:40:52",to:"2021-03-04 21:31:27"},{id:6,employee_id:1,from:"2021-03-04 21:32:16",to:"2021-03-04 22:13:47"},{id:7,employee_id:1,from:"2021-03-04 22:44:21",to:"2021-03-04 22:47:15"},{id:8,employee_id:1,from:"2021-03-04 23:27:07",to:"2021-03-04 23:41:45"},{id:9,employee_id:1,from:"2021-03-04 23:41:54",to:"2021-03-04 23:44:51"},{id:10,employee_id:1,from:"2021-03-04 23:53:00",to:"2021-04-04 01:15:22"},{id:11,employee_id:2,from:"2021-03-04 03:44:44",to:"2021-03-04 03:46:09"},{id:12,employee_id:2,from:"2021-03-04 03:55:01",to:"2021-03-04 08:13:10"},{id:13,employee_id:2,from:"2021-03-04 09:11:43",to:"2021-03-04 10:55:37"},{id:14,employee_id:2,from:"2021-03-04 10:56:54",to:"2021-03-04 13:36:34"},{id:15,employee_id:2,from:"2021-03-04 13:40:52",to:"2021-03-04 15:31:27"},{id:16,employee_id:2,from:"2021-03-04 15:32:16",to:"2021-03-04 16:13:47"},{id:17,employee_id:3,from:"2021-03-04 00:00:16",to:"2021-03-04 12:00:47"},{id:18,employee_id:3,from:"2021-03-04 12:33:56",to:"2021-03-04 20:11:11"},{id:19,employee_id:4,from:"2021-03-04 00:12:12",to:"2021-03-04 04:07:09"},{id:20,employee_id:4,from:"2021-03-04 06:33:25",to:"2021-03-04 08:56:12"},{id:21,employee_id:4,from:"2021-03-04 09:02:45",to:"2021-03-04 10:11:11"},{id:22,employee_id:4,from:"2021-03-04 11:12:10",to:"2021-03-04 13:36:34"},{id:23,employee_id:4,from:"2021-03-04 13:16:52",to:"2021-03-04 14:31:27"},{id:24,employee_id:4,from:"2021-03-04 16:32:16",to:"2021-03-04 19:13:59"},{id:25,employee_id:4,from:"2021-03-04 19:44:21",to:"2021-03-04 22:54:15"},{id:26,employee_id:4,from:"2021-03-04 23:27:19",to:"2021-03-04 23:41:30"},{id:27,employee_id:5,from:"2021-03-04 11:12:12",to:"2021-03-04 12:07:09"},{id:28,employee_id:5,from:"2021-03-04 12:32:25",to:"2021-03-04 12:56:13"},{id:29,employee_id:5,from:"2021-03-04 14:02:17",to:"2021-03-04 14:11:08"},{id:30,employee_id:5,from:"2021-03-04 15:12:19",to:"2021-03-04 16:33:33"},{id:31,employee_id:5,from:"2021-03-04 18:25:52",to:"2021-03-04 20:31:12"},{id:32,employee_id:5,from:"2021-03-04 20:32:20",to:"2021-03-04 21:21:21"},{id:33,employee_id:5,from:"2021-03-04 22:44:21",to:"2021-03-04 22:54:15"},{id:34,employee_id:5,from:"2021-03-04 22:59:19",to:"2021-03-04 23:29:30"},{id:35,employee_id:6,from:"2021-03-04 02:15:44",to:"2021-03-04 04:46:09"},{id:36,employee_id:6,from:"2021-03-04 17:26:01",to:"2021-03-04 08:17:10"},{id:37,employee_id:6,from:"2021-03-04 09:29:45",to:"2021-03-04 11:32:34"},{id:38,employee_id:6,from:"2021-03-04 11:39:07",to:"2021-03-04 13:39:07"},{id:39,employee_id:6,from:"2021-03-04 14:15:52",to:"2021-03-04 19:01:08"},{id:40,employee_id:6,from:"2021-03-04 19:32:47",to:"2021-03-04 20:55:47"},{id:41,employee_id:6,from:"2021-03-04 22:59:00",to:"2021-03-04 23:09:15"},{id:42,employee_id:6,from:"2021-03-04 23:27:05",to:"2021-03-04 23:30:45"},{id:43,employee_id:6,from:"2021-03-04 23:30:54",to:"2021-03-04 23:50:01"},{id:44,employee_id:6,from:"2021-04-04 00:53:00",to:"2021-04-04 04:15:22"}]};function p(e){var t;return t=b[e],new Promise((function(e,o){return setTimeout(t?e:o,500,t)}))}var f={loading:!1,employees:[],worklog:[]},O=function(e){return{type:"SET-EMPLOYEES",employees:e}},h=function(e){return{type:"SET-WORKLOG",worklog:e}},y=function(e){return{type:"IS-LOADING",isLoading:e}},x=O|h|y,g=o(39),_=o(38),N=Object(_.a)(),v=Object(m.b)({main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x;switch(t.type){case"IS-LOADING":return Object(u.a)(Object(u.a)({},e),{},{loading:t.isLoading});case"SET-EMPLOYEES":return Object(u.a)(Object(u.a)({},e),{},{employees:t.employees});case"SET-WORKLOG":return Object(u.a)(Object(u.a)({},e),{},{worklog:t.worklog});default:return e}},route:N}),w=Object(m.c)(v,Object(m.a)(g.a)),k=o(3),D=o(88),E=o(89),S=o(90),L=o(91),I=o(92),T=o(93),F=o(5),P=o(87),W=o(83),A=o(85),C=o(86),G=o(2),M=function(){return Object(G.jsx)("div",{style:{fontSize:"26px",margin:"150px auto",textAlign:"center"},children:"Loading..."})},z=o(22),B=Object(W.a)({table:{minWidth:500}}),J=Object(W.a)({table:{minWidth:500}}),K=function(){var e=Object(l.c)((function(e){return e.main.employees})),t=Object(l.c)((function(e){return e.main.loading})),o=Object(l.b)(),n=J();return e.sort((function(e,t){return e.lastName<t.lastName?-1:1})),Object(i.useEffect)((function(){o(function(){var e=Object(j.a)(Object(s.a)().mark((function e(t){var o;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(y(!0)),e.next=3,p("/api/employees").then((function(e){return e}));case 3:o=e.sent,t(O(o)),t(y(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),t?Object(G.jsx)(M,{}):Object(G.jsx)(A.a,{item:!0,xs:12,sm:6,style:{margin:"50px auto"},children:Object(G.jsxs)(C.a,{children:[Object(G.jsx)("h2",{style:{textAlign:"center"},children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"}),Object(G.jsx)(P.a,{component:D.a,children:Object(G.jsxs)(E.a,{className:n.table,"aria-label":"simple table",children:[Object(G.jsx)(S.a,{children:Object(G.jsxs)(L.a,{children:[Object(G.jsx)(I.a,{children:Object(G.jsx)("b",{children:"Id"})}),Object(G.jsx)(I.a,{align:"center",children:Object(G.jsx)("b",{children:"\u0424\u0418\u041e"})}),Object(G.jsx)(I.a,{align:"center",children:Object(G.jsx)("b",{children:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"})})]})}),Object(G.jsx)(T.a,{children:null===e||void 0===e?void 0:e.map((function(e){return Object(G.jsxs)(L.a,{children:[Object(G.jsx)(I.a,{scope:"row",children:e.id}),Object(G.jsx)(I.a,{align:"center",children:Object(G.jsxs)(d.b,{to:"/api/employees/worklog/".concat(e.id),style:{textDecoration:"none",color:"#3366FF"},children:[e.lastName," ",e.firstName," ",e.middleName]})}),Object(G.jsx)(I.a,{align:"center",children:Object(G.jsx)("time",{dateTime:"dd.mm.yyyy",children:e.birthDate.toString().split("-").reverse().join("-")})})]},e.id)}))})]})})]})})},R=["id"],Y=[{id:"Main",path:"/",exact:!0,component:function(){return Object(G.jsx)(K,{})}},{id:"Employees",path:"/api/employees",exact:!0,component:K},{id:"Worklog",path:"/api/employees/worklog/:id",exact:!0,component:function(){var e=Object(F.f)().id,t=Object(l.c)((function(e){return e.main.worklog})),o=Object(l.c)((function(e){return e.main.loading})),n=Object(l.b)(),c=B(),r=function(e){var t=e.reduce((function(e,t){return[].concat(Object(z.a)(e),[{id:t.id,time:t.from,count:"plus"},{id:t.id,time:t.to,count:"minus"}])}),[]).sort((function(e,t){return new Date(e.time)-new Date(t.time)}));return t.reduce((function(e,o,i){return e.count+1<3&&"plus"===o.count?(console.log(Object(u.a)(Object(u.a)({},e),{},{item:o.count,count:e.count+1,index:i})),Object(u.a)(Object(u.a)({},e),{},{item:o.count,count:e.count+1})):e.count-1<3&&"minus"===o.count?(e.items.push(t[i-1].id),console.log(Object(u.a)(Object(u.a)({},e),{},{item:o.count,count:e.count-1,index:i})),Object(u.a)(Object(u.a)({},e),{},{item:o.count,count:e.count-1,items:e.items})):e.count+1>=3&&"plus"===o.count?Object(u.a)(Object(u.a)({},e),{},{item:o.count,count:e.count+1}):Object(u.a)(Object(u.a)({},e),{},{item:o.count,count:e.count-1})}),{count:0,item:"",items:[]}).items}(t);console.log(r);var a=t.map((function(e){return r.some((function(t){return t===e.id}))?Object(u.a)(Object(u.a)({},e),{},{color:"red"}):Object(u.a)(Object(u.a)({},e),{},{color:"black"})})).filter((function(t){return t.employee_id===+e}));return Object(i.useEffect)((function(){n(function(){var e=Object(j.a)(Object(s.a)().mark((function e(t){var o;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(y(!0)),e.next=3,p("/api/employees/worklog").then((function(e){return e}));case 3:o=e.sent,t(h(o)),t(y(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),o?Object(G.jsx)(M,{}):Object(G.jsx)(A.a,{item:!0,xs:12,sm:6,style:{margin:"50px auto"},children:Object(G.jsxs)(C.a,{children:[Object(G.jsx)(d.c,{to:"/api/employees",style:{display:"inline-block",marginBottom:"30px",padding:"7px",border:"1px solid grey",textDecoration:"none",color:"black"},children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"}),Object(G.jsx)(P.a,{component:D.a,children:Object(G.jsxs)(E.a,{className:c.table,"aria-label":"simple table",children:[Object(G.jsx)(S.a,{children:Object(G.jsxs)(L.a,{children:[Object(G.jsx)(I.a,{children:Object(G.jsx)("b",{children:"Id \u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"})}),Object(G.jsx)(I.a,{align:"right",children:Object(G.jsx)("b",{children:"C (\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f)"})}),Object(G.jsx)(I.a,{align:"right",children:Object(G.jsx)("b",{children:"\u0414o (\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f)"})})]})}),Object(G.jsx)(T.a,{children:a.map((function(e){return Object(G.jsxs)(L.a,{children:[Object(G.jsx)(I.a,{scope:"row",children:e.employee_id}),Object(G.jsx)(I.a,{align:"right",children:Object(G.jsx)("span",{children:e.from})}),Object(G.jsx)(I.a,{align:"right",children:Object(G.jsx)("span",{style:{color:e.color},children:e.to})})]},e.id)}))})]})})]})})}}],q=function(){return Object(G.jsx)(F.c,{children:Y.map((function(e){var t=e.id,o=Object(k.a)(e,R);return Object(G.jsx)(F.a,Object(u.a)({},o),t)}))})};r.a.render(Object(G.jsx)(n.a.StrictMode,{children:Object(G.jsx)(d.a,{children:Object(G.jsx)(l.a,{store:w,children:Object(G.jsx)(q,{})})})}),document.getElementById("root")),a()}},[[70,1,2]]]);
//# sourceMappingURL=main.0ea79021.chunk.js.map